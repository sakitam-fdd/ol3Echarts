"use strict";(self.webpackChunkol_echarts_docs=self.webpackChunkol_echarts_docs||[]).push([[361],{8459:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>o});var t=n(6106),r=n(2036);const a={},c="Bridger for openlayers and echarts",i={id:"index",title:"Bridger for openlayers and echarts",description:"CI",source:"@site/docs/index.md",sourceDirName:".",slug:"/",permalink:"/ol3Echarts/docs/",draft:!1,unlisted:!1,editUrl:"https://github.com/sakitam-fdd/ol3Echarts/edit/master/documents/docs/docs/index.md",tags:[],version:"current",lastUpdatedBy:"sakitam-fdd",lastUpdatedAt:173064791e4,frontMatter:{},sidebar:"docs",next:{title:"\u5feb\u901f\u5f00\u59cb",permalink:"/ol3Echarts/docs/quickstart"}},l={},o=[{value:"Support",id:"support",level:2},{value:"TIP",id:"tip",level:3},{value:"\u4e0b\u8f7d",id:"\u4e0b\u8f7d",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:3},{value:"npm\u5b89\u88c5",id:"npm\u5b89\u88c5",level:4},{value:"cdn",id:"cdn",level:4},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:4},{value:"\u6587\u6863",id:"\u6587\u6863",level:4},{value:"\u5b9e\u73b0\u539f\u7406",id:"\u5b9e\u73b0\u539f\u7406",level:4},{value:"openlayers",id:"openlayers",level:5},{value:"ol package &amp; react",id:"ol-package--react",level:4},{value:"hmap-js",id:"hmap-js",level:5},{value:"\u622a\u56fe\u793a\u4f8b",id:"\u622a\u56fe\u793a\u4f8b",level:2},{value:"\u81f4\u8c22",id:"\u81f4\u8c22",level:2},{value:"License",id:"license",level:2}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"bridger-for-openlayers-and-echarts",children:"Bridger for openlayers and echarts"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://github.com/sakitam-fdd/ol3Echarts/actions/workflows/main.yml",children:(0,t.jsx)(s.img,{src:"https://github.com/sakitam-fdd/ol3Echarts/actions/workflows/main.yml/badge.svg",alt:"CI"})}),"\n",(0,t.jsx)(s.a,{href:"https://codecov.io/gh/sakitam-fdd/ol3Echarts",children:(0,t.jsx)(s.img,{src:"https://codecov.io/gh/sakitam-fdd/ol3Echarts/branch/master/graph/badge.svg",alt:"codecov"})}),"\n",(0,t.jsx)(s.img,{src:"http://img.badgesize.io/https://unpkg.com/ol3-echarts/dist/ol3Echarts.js?compression=gzip&label=gzip%20size:%20JS",alt:"JS gzip size"}),"\n",(0,t.jsx)(s.a,{href:"https://github.com/sakitam-fdd/ol3Echarts/stargazers",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/github/stars/sakitam-fdd/ol3Echarts.svg",alt:"GitHub stars"})}),"\n",(0,t.jsx)(s.a,{href:"https://raw.githubusercontent.com/sakitam-fdd/ol3Echarts/master/LICENSE",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/badge/license-MIT-blue.svg",alt:"GitHub license"})})]}),"\n",(0,t.jsx)(s.h2,{id:"support",children:"Support"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Project"}),(0,t.jsx)(s.th,{children:"Status"}),(0,t.jsx)(s.th,{children:"Version"}),(0,t.jsx)(s.th,{children:"Npm"}),(0,t.jsx)(s.th,{children:"CDN"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/sakitam-fdd/ol3Echarts/packages/ol3-echarts",children:"ol3-echarts"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/sakitam-fdd/ol3Echarts/actions/workflows/main.yml",children:(0,t.jsx)(s.img,{src:"https://github.com/sakitam-fdd/ol3Echarts/actions/workflows/main.yml/badge.svg",alt:"CI"})})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://www.npmjs.org/package/ol3-echarts",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/npm/v/ol3-echarts.svg",alt:"Npm package"})})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://npmjs.org/package/ol3-echarts",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/npm/dm/ol3-echarts.svg",alt:"NPM downloads"})})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://www.jsdelivr.com/package/npm/ol3-echarts",children:(0,t.jsx)(s.img,{src:"https://data.jsdelivr.com/v1/package/npm/ol3-echarts/badge",alt:""})})}),(0,t.jsx)(s.td,{children:"support for openlayers3-4"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/sakitam-fdd/ol3Echarts/packages/ol-echarts",children:"ol-echarts"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/sakitam-fdd/ol3Echarts/actions/workflows/main.yml",children:(0,t.jsx)(s.img,{src:"https://github.com/sakitam-fdd/ol3Echarts/actions/workflows/main.yml/badge.svg",alt:"CI"})})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://www.npmjs.org/package/ol-echarts",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/npm/v/ol-echarts.svg",alt:"Npm package"})})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://npmjs.org/package/ol-echarts",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/npm/dm/ol-echarts.svg",alt:"NPM downloads"})})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://www.jsdelivr.com/package/npm/ol-echarts",children:(0,t.jsx)(s.img,{src:"https://data.jsdelivr.com/v1/package/npm/ol-echarts/badge",alt:""})})}),(0,t.jsx)(s.td,{children:"support for openlayers5+"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"tip",children:"TIP"}),"\n",(0,t.jsxs)(s.p,{children:["ol 7.x \u4ee5\u540e\u8bf7\u4f7f\u7528 ol-echarts v4.x\uff0col 7.x \u4e4b\u524d\u8bf7\u4f7f\u7528 ol-echarts v3.x\uff0c\u539f\u56e0\u89c1 ",(0,t.jsx)(s.a,{href:"https://github.com/sakitam-fdd/ol3Echarts/issues/115#issuecomment-1627004544",children:"issues/115"})]}),"\n",(0,t.jsx)(s.h2,{id:"\u4e0b\u8f7d",children:"\u4e0b\u8f7d"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"git clone https://github.com/sakitam-fdd/ol3Echarts.git\nyarn run bootstrap\nyarn run dev\nyarn run build\nyarn run karma.test\n"})}),"\n",(0,t.jsx)(s.h3,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(s.h4,{id:"npm\u5b89\u88c5",children:"npm\u5b89\u88c5"}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["\u6ce8\u610f\uff1anpm\u4e0b\u5b58\u5728\u4e24\u4e2a\u5305 ",(0,t.jsx)(s.a,{href:"https://npmjs.org/package/ol3-echarts",children:"ol3-echarts"})," \u548c ",(0,t.jsx)(s.a,{href:"https://npmjs.org/package/ol-echarts",children:"ol-echarts"}),"\n\u524d\u8005\u662f\u5728\u4f7f\u7528 ",(0,t.jsx)(s.a,{href:"https://npmjs.org/package/openlayers",children:"openlayers"})," \u6216\u8005\u662f ",(0,t.jsx)(s.code,{children:"ol"})," \u7684cdn\u65f6\u4f7f\u7528\uff1b\u540e\u8005\u662f\u5728\u4f7f\u7528 ",(0,t.jsx)(s.a,{href:"https://npmjs.org/package/ol",children:"ol"}),"\n\u914d\u5408\u6253\u5305\u5de5\u5177\u4f7f\u7528\u3002"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"// old openlayers package\nnpm install ol3-echarts --save\nimport ol3Echarts from 'ol3-echarts'\n\n// ol package\nnpm install ol-echarts --save\nimport EChartsLayer from 'ol-echarts'\n\n"})}),"\n",(0,t.jsx)(s.h4,{id:"cdn",children:"cdn"}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["cdn \u5f15\u7528\u65b9\u5f0f\u53ea\u652f\u6301 \u65e7\u7248 ",(0,t.jsx)(s.code,{children:"openlayers"})," \u548c\u65b0\u7248 ",(0,t.jsx)(s.code,{children:"ol"})," \u7684cdn\u5f15\u7528\u65b9\u5f0f\uff0c\u7edf\u4e00\u4f7f\u7528 ",(0,t.jsx)(s.code,{children:"ol3-echarts"})," \u652f\u6301\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["\u76ee\u524d\u53ef\u901a\u8fc7 ",(0,t.jsx)(s.a,{href:"https://unpkg.com/ol3-echarts/dist/ol3Echarts.js",children:"unpkg.com"})," / ",(0,t.jsx)(s.a,{href:"https://cdn.jsdelivr.net/npm/ol3-echarts/dist/ol3Echarts.js",children:"jsdelivr"})," \u83b7\u53d6\u6700\u65b0\u7248\u672c\u7684\u8d44\u6e90\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"// jsdelivr (jsdelivr\u7531\u4e8e\u7f13\u5b58\u539f\u56e0\u6700\u597d\u9501\u5b9a\u7248\u672c\u53f7)\nhttps://cdn.jsdelivr.net/npm/ol3-echarts@2.0.3/dist/ol3Echarts.js\nhttps://cdn.jsdelivr.net/npm/ol3-echarts@2.0.3/dist/ol3Echarts.min.js\n// npm\nhttps://unpkg.com/ol3-echarts/dist/ol3Echarts.js\nhttps://unpkg.com/ol3-echarts/dist/ol3Echarts.min.js\n"})}),"\n",(0,t.jsx)(s.h4,{id:"\u793a\u4f8b",children:(0,t.jsx)(s.a,{href:"//sakitam-fdd.github.io/ol3Echarts/",children:"\u793a\u4f8b"})}),"\n",(0,t.jsx)(s.h4,{id:"\u6587\u6863",children:(0,t.jsx)(s.a,{href:"//sakitam-fdd.github.io/ol3Echarts/docs/",children:"\u6587\u6863"})}),"\n",(0,t.jsx)(s.h4,{id:"\u5b9e\u73b0\u539f\u7406",children:(0,t.jsx)(s.a,{href:"//sakitam-fdd.cn/ol3Echarts/docs/#/guide/core",children:"\u5b9e\u73b0\u539f\u7406"})}),"\n",(0,t.jsx)(s.h5,{id:"openlayers",children:"openlayers"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:'<div id="map"></div>\n<script src="https://cdn.jsdelivr.net/npm/openlayers/dist/ol.js"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.js"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/ol3-echarts/dist/ol3Echarts.js"><\/script>\n<script>\n  var Map = new ol.Map({\n    target: container,\n    layers: [\n      new ol.layer.Tile({\n        preload: 4,\n        source: new ol.source.OSM()\n      })\n    ],\n    loadTilesWhileAnimating: true,\n    view: new ol.View({\n      projection: \'EPSG:4326\',\n      center: [120.74758724751435, 30.760422266949334],\n      zoom: 8\n    })\n  });\n  var echartslayer = new ol3Echarts(echartsOption, {\n    source: \'\',\n    destination: \'\',\n    hideOnMoving: true,\n    forcedRerender: false,\n    forcedPrecomposeRerender: false\n  });\n  echartslayer.appendTo(Map)\n<\/script>\n'})}),"\n",(0,t.jsx)(s.h4,{id:"ol-package--react",children:"ol package & react"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-jsx",metastring:"harmony",children:"import * as React from 'react';\nimport { Map, View } from 'ol';\nimport TileLayer from 'ol/layer/Tile';\nimport XYZ from 'ol/source/XYZ';\nimport 'ol/ol.css';\nimport EChartsLayer from 'ol-echarts';\n\nclass Index extends React.Component {\n  constructor (props, context) {\n    super(props, context);\n    this.state = {\n      zoom: 14,\n      fov: 0,\n      pitch: 0,\n      bearing: 0\n    };\n\n    this.container = null;\n    this.map = null;\n  }\n\n  componentDidMount () {\n    this.map = new Map({\n      target: this.container,\n      view: new View({\n        center: [113.53450137499999, 34.44104525],\n        projection: 'EPSG:4326',\n        zoom: 5 // resolution\n      }),\n      layers: [\n        new TileLayer({\n          source: new XYZ({\n            url: 'http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnline' +\n            'StreetPurplishBlue/MapServer/tile/{z}/{y}/{x}'\n          })\n        })\n      ]\n    });\n    const echartslayer = new EChartsLayer(option, {\n      hideOnMoving: false,\n      hideOnZooming: false,\n      forcedPrecomposeRerender: true\n    });\n    echartslayer.appendTo(this.map);\n    window.setTimeout(() => {\n      echartslayer.remove();\n    }, 10 * 1000)\n  }\n\n  setRef = (x = null) => {\n    this.container = x;\n  };\n\n  render () {\n    return (<div ref={this.setRef} className=\"map-content\"></div>);\n  }\n}\n"})}),"\n",(0,t.jsx)(s.h5,{id:"hmap-js",children:"hmap-js"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:"<div id=\"map\"></div>\n<script src=\"https://cdn.jsdelivr.net/npm/hmap-js/dist/hmap.js\"><\/script>\n<script src=\"https://cdn.jsdelivr.net/npm/echarts/dist/echarts.js\"><\/script>\n<script src=\"https://cdn.jsdelivr.net/npm/ol3-echarts/dist/ol3Echarts.js\"><\/script>\n<script>\n  var Maps = new HMap('map', {\n    controls: {\n      loading: true,\n      zoomSlider: true,\n      fullScreen: false\n    },\n    view: {\n      center: [113.53450137499999, 34.44104525],\n      projection: 'EPSG:4326',\n      zoom: 5, // resolution\n    },\n    baseLayers: [\n      {\n        layerName: 'vector',\n        isDefault: true,\n        layerType: 'TileXYZ',\n        projection: 'EPSG:3857',\n        tileGrid: {\n          tileSize: 256,\n          extent: [-2.0037507067161843E7, -3.0240971958386254E7, 2.0037507067161843E7, 3.0240971958386205E7],\n          origin: [-2.0037508342787E7, 2.0037508342787E7],\n          resolutions: [\n            156543.03392800014,\n            78271.51696399994,\n            39135.75848200009,\n            19567.87924099992,\n            9783.93962049996,\n            4891.96981024998,\n            2445.98490512499,\n            1222.992452562495,\n            611.4962262813797,\n            305.74811314055756,\n            152.87405657041106,\n            76.43702828507324,\n            38.21851414253662,\n            19.10925707126831,\n            9.554628535634155,\n            4.77731426794937,\n            2.388657133974685\n          ]\n        },\n        layerUrl: 'http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}'\n      }\n    ]\n  });\n  var echartslayer = new ol3Echarts(echartsOption, {\n    source: '',\n    destination: '',\n    hideOnMoving: true,\n    forcedRerender: false,\n    forcedPrecomposeRerender: false\n  });\n  echartslayer.appendTo(Maps.getMap())\n<\/script>\n"})}),"\n",(0,t.jsx)(s.h2,{id:"\u622a\u56fe\u793a\u4f8b",children:"\u622a\u56fe\u793a\u4f8b"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://raw.githubusercontent.com/sakitam-fdd/ol3Echarts/master/website/static/images/scatter.jpg",alt:"\u6563\u70b9\u56fe"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://raw.githubusercontent.com/sakitam-fdd/ol3Echarts/master/website/static/images/mock-migration.jpg",alt:"\u8fc1\u5f99\u56fe"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://raw.githubusercontent.com/sakitam-fdd/ol3Echarts/master/website/static/images/wchart-gl.jpg",alt:"\u5fae\u535a\u7b7e\u5230\u6570\u636e\u70b9\u4eae\u4e2d\u56fd"})}),"\n",(0,t.jsx)(s.p,{children:"\u5176\u4ed6\u793a\u4f8b\u8bf7\u81ea\u5df1\u6316\u6398"}),"\n",(0,t.jsx)(s.h2,{id:"\u81f4\u8c22",children:"\u81f4\u8c22"}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://github.com/ecomfe/echarts",children:"echarts"}),"\n",(0,t.jsx)(s.a,{href:"https://github.com/openlayers/openlayers",children:"openlayers"})]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"license",children:"License"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://app.fossa.io/projects/git%2Bgithub.com%2Fsakitam-fdd%2Fol3Echarts?ref=badge_large",children:(0,t.jsx)(s.img,{src:"https://app.fossa.io/api/projects/git%2Bgithub.com%2Fsakitam-fdd%2Fol3Echarts.svg?type=large",alt:"FOSSA Status"})})})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},2036:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>i});var t=n(7378);const r={},a=t.createContext(r);function c(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);